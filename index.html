
<!-- 
    TO DO:
    - pages
    - highlights
    - add data
 -->

<!DOCTYPE html>
<html lang="en">
    <head>
        <title>TweetScraper Demo</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" 
              href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" 
              integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" 
              crossorigin="anonymous">
        <link rel="stylesheet" href="{{ static_url('twitterAnalysis.css') }}">
    </head>
    <script>
        function loadItems() {
            let _id = "{{ _id }}".split(",");
            let date = "{{ created_at }}".split(",");
            let text = "{{ text }}".replace(/&quot/g, "&#39").split("&#39;,");
            let favs = "{{ favorites }}".split(",");
            let rts = "{{ retweets }}".split(",");
            let url = "{{ url }}".split(",");
            let limit = parseInt("{{ limit }}");
            for(let i=0; i<limit; i++) {
                document.getElementById("tableBody").innerHTML += '<tr>' +
                    '<td class="number" >' + (i+1) + '</td>' +
                    '<td class="id" >' + _id[i].replace(/&#39;/g,"").replace("[","").replace("]","") + '</td>' +
                    '<td class= "date" >' + date[i].replace(/&#39;/g,"").replace("[","").replace("]","") + '</td>' +
                    '<td class="tweet" >' + text[i].replace(/&#39;/g,"").replace("[","").replace("]","") + '</td>' +
                    '<td class="fav" >' + favs[i].replace(/&#39;/g,"").replace("[","").replace("]","") + '</td>' +
                    '<td class="rt" >' + rts[i].replace(/&#39;/g,"").replace("[","").replace("]","") + '</td>' +
                    '<td class="url" ><a href="' + url[i].replace(/&#39;/g,"").replace("[","").replace("]","") + '" target="_blank">link</a></td>' +
                    '<td class="result" ><input type="checkbox"></td>' +
                    '<td><textarea name="remarks" rows="3" cols="20" ></textarea></td>' +
                '</tr>'
            }
        }
    </script>
    <body onload="loadItems()">
         <table class="table-dark table-striped">
             <thead>
                 <tr>
                     <th colspan="9" id="tableTitle">Tweet Scraper</th>
                 </tr>
                 <tr>
                     <th>Number</th>
                     <th>ID</th>
                     <th>Date Created</th>
                     <th>Text</th>
                     <th>Favorites</th>
                     <th>Retweets</th>
                     <th>Url</th>
                     <th>Result</th>
                     <th>Remarks</th>
                 </tr>
             </thead>
             <tbody id="tableBody">
                 
             </tbody>
         </table>
    </body>
</html>